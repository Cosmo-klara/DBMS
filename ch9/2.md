## 并发调度的可串行性

### 可串行性调度

事务的并发执行可以有多种顺序，因而并发操作是随机的。我们把并发事务的操作顺序称之为**调度 ( schedule )**。

显然，事务执行的顺序和读写数据的顺序不同，对数据库造成的影响就可能不同，即不同的事务调度可能会产生不同的结果。

**可串行化调度：多个事务的并发执行是正确的，当且仅当并发执行的结果与这些事务按照某一串行顺序执行结果相同。可串行化时并发事务正确调度的准则。**

> 如果多个事务的一个并行调度执行时正确的，只要它是可串行化的

### 调度的冲突等价性

调度冲突：不同事务的操作对同一个数据进行操作，次序不同操作结果不同（至少一者为写）

**如果一个调度 S 能通过一系列非冲突操作执行顺序变化为调度S'，则称调度S'与S冲突等价**

### 调度的状态等价性

调度的目的是为了保持数据库状态的一致性，**如果初始数据库状态相同，等价的调度能产生同样的数据库状态，这种等价性称为数据库状态等价性，简称为状态等价性。**

**如果 S 与 S' 时同一个事务集合的不同调度，S 与 S' 等价，当且仅当：**

+ 对每个数据项 A，如果 S 中事务 T1 读 A 初值，则 S' 中事务 T1 也必须读 A 初值。

+ 如果 S 中事务 T1 执行 Read ( A )，则 S' 中事务 T1 也必须执行 Read ( A ), 并且如果 S 中 T1 读到的 A 值是由事务 T2 产生的，则 S' 中 T1 读到的 A 值也必须是由 T2 产生的。

+ 如果 S 中事务 T 执行最后的 Write ( A )，则 S' 中事务 T 也必须执行最后的 Write ( A )。

**我们称一个调度是状态可串行的，如果它的状态等价于一个串行调度。

> 冲突可串行的调度一定时状态可串行的，反之不一定。


